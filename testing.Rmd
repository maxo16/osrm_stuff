---
title: "Osrm test"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(osrm)
library(microbenchmark)
```

```{r}
options(osrm.server = "http://127.0.0.1:5000/")
```


Just make a dataframe using the example
apotheke.df[1:50, c("id","lon","lat")]
```{r}
test <- data.frame("id" = c(1,2), "lon" = c(13.388860,13.385983), "lat" =  c(52.517037,52.496891))
```

Seems like the table is starting to work.
http://127.0.0.1:5000/route/v1/driving/13.388860,52.517037;13.385983,52.496891?steps=true
```{r}
osrmTable(test, measure = "distance")
```

Timing!
```{r}
microbenchmark(NULL, osrmTable(test, measure = "distance"), times=10000L)
```

